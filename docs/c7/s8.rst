.. _c7.8:

7.8 无线和移动性：对高层协议的影响
===================================================================
7.8 Wireless and Mobility: Impact on Higher-Layer Protocols

.. tab:: 中文

.. tab:: 英文

In this chapter, we’ve seen that wireless networks differ significantly from their wired counterparts at both the link layer (as a result of wireless channel characteristics such as fading, multipath, and hidden terminals) and at the network layer (as a result of mobile users who change their points of attachment to the network). But are there important differences at the transport and application layers? It’s tempting to think that these differences will be minor, since the network layer provides the same best-effort delivery service model to upper layers in both wired and wireless networks. Similarly, if protocols such as TCP or UDP are used to provide transport-layer services to applications in both wired and wireless networks, then the application layer should remain unchanged as well. In one sense our intuition is right—TCP and UDP can (and do) operate in networks with wireless links. On the other hand, transport protocols in general, and TCP in particular, can sometimes have very different performance in wired and wireless networks, and it is here, in terms of performance, that differences are manifested. Let’s see why.

Recall that TCP retransmits a segment that is either lost or corrupted on the path between sender and receiver. In the case of mobile users, loss can result from either network congestion (router buffer overflow) or from handoff (e.g., from delays in rerouting segments to a mobile’s new point of attachment to the network). In all cases, TCP’s receiver-to-sender ACK indicates only that a segment was not received intact; the sender is unaware of whether the segment was lost due to congestion, during handoff, or due to detected bit errors. In all cases, the sender’s response is the same—to retransmit the segment. TCP’s congestion-control response is also the same in all cases—TCP decreases its congestion window, as discussed in :ref:`Section 3.7 <c3.7>`. By unconditionally decreasing its congestion window, TCP implicitly assumes that segment loss results from congestion rather than corruption or handoff. We saw in :ref:`Section 7.2 <c7.2>` that bit errors are much more common in wireless networks than in wired networks. When such bit errors occur or when handoff loss occurs, there’s really no reason for the TCP sender to decrease its congestion window (and thus decrease its sending rate). Indeed, it may well be the case that router buffers are empty and packets are flowing along the end-to-end path unimpeded by congestion.

Researchers realized in the early to mid 1990s that given high bit error rates on wireless links and the possibility of handoff loss, TCP’s congestion-control response could be problematic in a wireless setting. Three broad classes of approaches are possible for dealing with this problem:

- **Local recovery**. Local recovery protocols recover from bit errors when and where (e.g., at the wireless link) they occur, e.g., the 802.11 ARQ protocol we studied in :ref:`Section 7.3 <c7.3>`, or more sophisticated approaches that use both ARQ and FEC :ref:`[Ayanoglu 1995] <Ayanoglu 1995>`.
 
  **TCP sender awareness of wireless links**. In the local recovery approaches, the TCP sender is blissfully unaware that its segments are traversing a wireless link. An alternative approach is for the TCP sender and receiver to be aware of the existence of a wireless link, to distinguish between congestive losses occurring in the wired network and corruption/loss occurring at the wireless link, and to invoke congestion control only in response to congestive wired-network losses. :ref:`[Balakrishnan 1997] <Balakrishnan 1997>` investigates various types of TCP, assuming that end ­systems can make this distinction. :ref:`[Liu 2003] <Liu 2003>` investigates techniques for distinguishing between losses on the wired and wireless segments of an end-to-end path.

- **Split-connection approaches**. In a split-connection approach :ref:`[Bakre 1995] <Bakre 1995>`, the end-to-end connection between the mobile user and the other end point is broken into two transport-layer connections: one from the mobile host to the wireless access point, and one from the wireless access point to the other communication end point (which we’ll assume here is a wired host). The end-to-end connection is thus formed by the concatenation of a wireless part and a wired part. The transport layer over the wireless segment can be a standard TCP connection :ref:`[Bakre 1995] <Bakre 1995>`, or a specially tailored error recovery protocol on top of UDP. :ref:`[Yavatkar 1994] <Yavatkar 1994>` investigates the use of a transport-layer selective repeat protocol over the wireless connection. Measurements reported in :ref:`[Wei 2006] <Wei 2006>` indicate that split TCP connections are widely used in cellular data networks, and that significant improvements can indeed be made through the use of split TCP connections.

Our treatment of TCP over wireless links has been necessarily brief here. ­In-depth surveys of TCP challenges and solutions in wireless networks can be found in [:ref:`Hanabali 2005 <Hanabali 2005>`; :ref:`Leung 2006 <Leung 2006>`]. We encourage you to consult the references for details of this ongoing area of research.

Having considered transport-layer protocols, let us next consider the effect of wireless and mobility on application-layer protocols. Here, an important consideration is that wireless links often have relatively low bandwidths, as we saw in :ref:`Figure 7.2 <Figure 7.2>`. As a result, applications that operate over wireless links, particularly over cellular wireless links, must treat bandwidth as a scarce commodity. For example, a
Web server serving content to a Web browser executing on a 4G phone will likely not be able to provide the same image-rich content that it gives to a browser operating over a wired connection. Although wireless links do provide challenges at the application layer, the mobility they enable also makes
possible a rich set of location-aware and context-aware applications [:ref:`Chen 2000 <Chen 2000>`; :ref:`Baldauf 2007 <Baldauf 2007>`]. More generally, wireless and mobile networks will play a key role in realizing the ubiquitous computing environments of the future :ref:`[Weiser 1991] <Weiser 1991>`. It’s fair to say that we’ve only seen the tip of the iceberg when it comes to the impact of wireless and mobile networks on networked applications and their protocols!


